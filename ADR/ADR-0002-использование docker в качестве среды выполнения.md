# Использование Docker в качестве среды выполнения кода

Дата: 2023-10-01

## Статус

Принято

## Контекст

Наша задача реалезовать serverless приложение, которое бы могло запускать чужие функции на нашем железе
Возникла необходимость запускать этот код в безопастном месте, изолируя его от внешних систем, а так же возможность запускать различные образы для выполнения программ.

### Варианты

1. Docker. Программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации.
Позволяет «упаковать» приложение со всем его окружением и зависимостями в контейнер, который может быть развёрнут на любой Linux-системе с поддержкой контрольных групп в ядре, а также предоставляет набор команд для управления этими контейнерами.
2. K8s. Открытое программное обеспечение для оркестровки контейнеризированных приложений. Это автоматическое развёртывание, масштабирование и координация приложений в условиях кластера.
Поддерживает основные технологии контейнеризации, включая Docker, rkt, также возможна поддержка технологий аппаратной виртуализации.
3. Podman. это инструмент с открытым исходным кодом для разработки, управления и запуска контейнеров в системах Linux.
Разработанный инженерами Red Hat совместно с сообществом разработчиков, Podman управляет всей экосистемой контейнеров с помощью библиотеки libpod. Бездемонная и инклюзивная архитектура Podman делает его более безопасным и доступным вариантом управления контейнерами, а сопутствующие инструменты и функции, такие как Buildah и Skopeo, позволяют разработчикам настраивать контейнерное окружение в соответствии со своими потребностями. 

## Решение

Выбранный вариант: "[Docker]", потому что в данный момент нет необходимости аркестрации большого количества контейнеров, сжатые временные рамки выполнения задачи, а так же из за легкости перехода на k8s в случаи расширения.

## Последствия

Создание контейнеров в docker оправдало наши ожидания по времени, но при высокой нагрузке есть необходимость переходить на k8s

## People involved

Кирилл / Шабалин / Максим / Калинин

